(this.webpackJsonpapp3app=this.webpackJsonpapp3app||[]).push([[0],{10:function(e){e.exports=JSON.parse('{"client":{"name":"Achme Broker Ltd","policies":[{"customer_name":"ABC Joinery","customer_address":"12 Ascott Street, Dundee","premium":123.87,"policy_type":"Public Liability","insurer_name":"Aviva"},{"customer_name":"XYZ Plumbing","customer_address":"24 Fleet Street, Glasgow","premium":2321.45,"policy_type":"Public Liability","insurer_name":"Allianz"},{"customer_name":"Fast Taxis","customer_address":"324b Bank Street, Aberdeen","premium":59897,"policy_type":"Motor Fleet","insurer_name":"Aviva"},{"customer_name":"Fast Taxis","customer_address":"324b Bank Street, Aberdeen","policy_type":"Public Liability","premium":6845,"insurer_name":"QBE"}]}}')},25:function(e,t,a){e.exports={App:"App_App__16ZpL",hidden:"App_hidden__3ofBD",Spacer:"App_Spacer__2X0KP"}},37:function(e,t,a){e.exports=a(47)},42:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(12),i=a.n(l),c=(a(42),a(32)),o=a(17),s=a(28),u=a(29),m=a(33),p=a(31),d=a(81),h=a(80),f=a(48),E=a(83),_=a(85),y=a(84),v=a(77),g=a(78),b=a(79),C=a(86),S=a(87),D=a(82),k=a(10),w=a(25),j=a.n(w),P=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={sortDirection:[null,null,null,null,null],policies:null,client:null,headers:null,newRecord:{customer_name:"",customer_address:"",premium:"",policy_type:"",insurer_name:""},formValid:!1,filterPolicies:null},e.restHandler=function(){e.setState({sortDirection:[null,null,null,null,null],policies:k.client.policies,client:k.client.name,headers:Object.keys(k.client.policies[0]),newRecord:{customer_name:"",customer_address:"",premium:"",policy_type:"",insurer_name:""},formValid:!1,filterPolicies:k.client.policies})},e.handleFilterChange=function(t){var a,n=Object(o.a)(e.state.filterPolicies);switch(t.target.value){case"more":a=n.filter((function(e){return e.premium>=3e3}));break;case"less":a=n.filter((function(e){return e.premium<3e3}));break;default:a=e.state.filterPolicies}e.setState({policies:a})},e.inputHandler=function(t,a){var n=Object(c.a)({},e.state.newRecord);n[a]=t.target.value,e.setState({newRecord:n}),e.setState((function(e){var t=e.newRecord,a=Object.keys(t);return{formValid:a.map((function(e){return t[e]})).filter((function(e){return e.length>0})).length===a.length}}))},e.addHandler=function(){e.setState((function(e){return{policies:e.filterPolicies}}));var t=[].concat(Object(o.a)(e.state.filterPolicies),[e.state.newRecord]);e.setState({newRecord:{customer_name:"",customer_address:"",premium:"",policy_type:"",insurer_name:""},formValid:!1,policies:t,filterPolicies:t})},e.deleteHandler=function(t){e.setState((function(e){return{policies:e.filterPolicies}}));var a=Object(o.a)(e.state.filterPolicies);a.splice(t,1),e.setState({policies:a,filterPolicies:a})},e.changeDataHandler=function(t,a,n){e.setState((function(e){return{policies:e.filterPolicies}}));var r=Object(o.a)(e.state.policies);r[n][a]=t.target.value,e.setState({policies:r,filterPolicies:r})},e.headerClickHandler=function(t){console.log(t.target.id);var a=Object(o.a)(e.state.policies),n=t.target.id,r=t.target.getAttribute("data-index");"premium"===n?a.sort((function(t,a){var l=Number(t[n]),i=Number(a[n]);return e.state.sortDirection[r]&&"DESC"!==e.state.sortDirection[r]?l>i?-1:l<i?1:0:l<i?-1:l>i?1:0})):"customer_address"===n?a.sort((function(t,a){var l=t[n].toUpperCase().split(" "),i=a[n].toUpperCase().split(" ");l.length>1&&l.shift(),i.length>1&&i.shift();var c=l.join(" "),o=i.join(" ");return e.state.sortDirection[r]&&"DESC"!==e.state.sortDirection[r]?c>o?-1:c<o?1:0:c<o?-1:c>o?1:0})):a.sort((function(t,a){var l=t[n].toUpperCase(),i=a[n].toUpperCase();return e.state.sortDirection[r]&&"DESC"!==e.state.sortDirection[r]?l>i?-1:l<i?1:0:l<i?-1:l>i?1:0}));var l="DESC";e.state.sortDirection[r]&&"DESC"!==e.state.sortDirection[r]||(l="ASC");var i=[null,null,null,null,null];i[r]=l,e.setState({policies:a,filterPolicies:a,sortDirection:i})},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.setState({policies:k.client.policies,client:k.client.name,headers:Object.keys(k.client.policies[0]),filterPolicies:k.client.policies})}},{key:"render",value:function(){var e=this,t=r.a.createElement(v.a,null,r.a.createElement("p",null,"Loading..."));this.state.headers&&(t=this.state.headers.map((function(t,a){var n=t.split("_").map((function(e){return e.charAt(0).toUpperCase().concat(e.slice(1))})).join(" "),l=t.replace("_","");return l=l.charAt(0).toUpperCase().concat(l.slice(1)),r.a.createElement(v.a,{key:"id_".concat(t,"_").concat(a)},r.a.createElement(l,{is:"custom",onClick:e.headerClickHandler,id:t,"data-index":a},n,"ASC"===e.state.sortDirection[a]?r.a.createElement("span",null,">"):"DESC"===e.state.sortDirection[a]?r.a.createElement("span",null,"<"):r.a.createElement("span",{className:j.a.hidden},"_")))})));var a=r.a.createElement(g.a,null,r.a.createElement(v.a,null,r.a.createElement("p",null,"Loading...")));return this.state.policies&&(a=this.state.policies.map((function(t,a){return r.a.createElement(g.a,{key:"id_".concat(t.customer_name,"_").concat(a)},r.a.createElement(v.a,null,r.a.createElement("input",{type:"text",value:t.customer_name,onChange:function(t){return e.changeDataHandler(t,"customer_name",a)}})),r.a.createElement(v.a,null,r.a.createElement("input",{type:"text",value:t.customer_address,onChange:function(t){return e.changeDataHandler(t,"customer_address",a)}})),r.a.createElement(v.a,null,r.a.createElement("input",{type:"text",value:t.premium,onChange:function(t){return e.changeDataHandler(t,"premium",a)}})),r.a.createElement(v.a,null,r.a.createElement("input",{type:"text",value:t.policy_type,onChange:function(t){return e.changeDataHandler(t,"policy_type",a)}})),r.a.createElement(v.a,null,r.a.createElement("input",{type:"text",value:t.insurer_name,onChange:function(t){return e.changeDataHandler(t,"insurer_name",a)}})),r.a.createElement(v.a,null,r.a.createElement(b.a,{variant:"contained",color:"secondary",onClick:function(){return e.deleteHandler(a)}},"Delete")))}))),r.a.createElement("div",{className:j.a.App},r.a.createElement(h.a,{fixed:!0},r.a.createElement(d.a,{elevation:3},r.a.createElement(f.a,{variant:"h2"},this.state.client," jjjjjjj"),r.a.createElement("p",null,"Online policy database. Columns can be sorted by clicking on the column headings."),r.a.createElement(S.a,{row:!0,style:{display:"block"},onChange:this.handleFilterChange,defaultValue:"none"},r.a.createElement(D.a,{value:"more",control:r.a.createElement(C.a,{color:"primary"}),label:"Premium \xa33000 or more"}),r.a.createElement(D.a,{value:"less",control:r.a.createElement(C.a,{color:"primary"}),label:"Premium less than \xa33000"}),r.a.createElement(D.a,{value:"none",control:r.a.createElement(C.a,{color:"primary"}),label:"No filter"})),r.a.createElement(E.a,null,r.a.createElement(y.a,null,r.a.createElement(g.a,null,t,r.a.createElement(v.a,null))),r.a.createElement(_.a,null,a,r.a.createElement(g.a,null,r.a.createElement(v.a,null,r.a.createElement("input",{type:"text",onChange:function(t){return e.inputHandler(t,"customer_name")},value:this.state.newRecord.customer_name||""})),r.a.createElement(v.a,null,r.a.createElement("input",{type:"text",onChange:function(t){return e.inputHandler(t,"customer_address")},value:this.state.newRecord.customer_address||""})),r.a.createElement(v.a,null,r.a.createElement("input",{type:"text",onChange:function(t){return e.inputHandler(t,"premium")},value:this.state.newRecord.premium||""})),r.a.createElement(v.a,null,r.a.createElement("input",{type:"text",onChange:function(t){return e.inputHandler(t,"policy_type")},value:this.state.newRecord.policy_type||""})),r.a.createElement(v.a,null,r.a.createElement("input",{type:"text",onChange:function(t){return e.inputHandler(t,"insurer_name")},value:this.state.newRecord.insurer_name||""})),r.a.createElement(v.a,null,r.a.createElement(b.a,{variant:"contained",color:"primary",onClick:this.addHandler,disabled:!this.state.formValid},"Add Policy"))))),r.a.createElement("div",{className:j.a.Spacer},r.a.createElement(b.a,{variant:"contained",color:"primary",onClick:this.restHandler},"Reset")),r.a.createElement("footer",null,r.a.createElement("span",null,"Created by Stuart Ferguson")))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[37,1,2]]]);
//# sourceMappingURL=main.423bd404.chunk.js.map