(this.webpackJsonpapp3app=this.webpackJsonpapp3app||[]).push([[0],{10:function(e){e.exports=JSON.parse('{"client":{"name":"Achme Broker Ltd","policies":[{"customer_name":"ABC Joinery","customer_address":"12 Ascott Street, Dundee","premium":123.87,"policy_type":"Public Liability","insurer_name":"Aviva"},{"customer_name":"XYZ Plumbing","customer_address":"24 Fleet Street, Glasgow","premium":2321.45,"policy_type":"Public Liability","insurer_name":"Allianz"},{"customer_name":"Fast Taxis","customer_address":"324b Bank Street, Aberdeen","premium":59897,"policy_type":"Motor Fleet","insurer_name":"Aviva"},{"customer_name":"Fast Taxis","customer_address":"324b Bank Street, Aberdeen","policy_type":"Public Liability","premium":6845,"insurer_name":"QBE"}]}}')},24:function(e,t,a){e.exports={TH:"Headers_TH__P8hXq",hidden:"Headers_hidden__7uKXG",Full:"Headers_Full__1w8on"}},25:function(e,t,a){e.exports={DataRows:"DataRows_DataRows__1f7qB",DataRow:"DataRows_DataRow__27Rvl",Full:"DataRows_Full__3PAQV"}},26:function(e,t,a){e.exports={InputRow:"InputForm_InputRow__2J8Yi",Full:"InputForm_Full__Cc1Yi"}},27:function(e,t,a){e.exports={DataRow:"DataRow_DataRow__2gbPd",Mobile:"DataRow_Mobile__1MZ_V"}},28:function(e,t,a){e.exports={App:"App_App__1lD6s",Spacer:"App_Spacer__1HWG3"}},36:function(e,t,a){e.exports={Spacer:"RadioFilters_Spacer__26OS0"}},37:function(e,t,a){e.exports={Footer:"Footer_Footer__1TM6y"}},38:function(e,t,a){e.exports={ResetButton:"ResetButton_ResetButton__3Pe3O"}},47:function(e,t,a){e.exports=a(57)},52:function(e,t,a){},57:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(12),l=a.n(i),o=(a(52),a(40)),c=a(17),s=a(33),u=a(34),m=a(41),p=a(39),d=a(88),f=a(87),_=a(59),h=a(83),y=a(24),E=a.n(y),b=a(82),v=a(84),w=function(e){var t=Object(b.a)("(min-width:960px)"),a=null;return e.headers&&t&&(a=e.headers.map((function(t,a){var n=t.split("_").map((function(e){return e.charAt(0).toUpperCase().concat(e.slice(1))})).join(" "),i=t.replace("_","");return i=i.charAt(0).toUpperCase().concat(i.slice(1)),r.a.createElement(h.a,{item:!0,xs:2,key:"id_".concat(t,"_").concat(a),className:E.a.TH},r.a.createElement(i,{is:"custom",onClick:e.headerClick,id:t,"data-index":a},n,"ASC"===e.sortDirection[a]?r.a.createElement("span",null,">"):"DESC"===e.sortDirection[a]?r.a.createElement("span",null,"<"):r.a.createElement("span",{className:E.a.hidden},"_")))}))),r.a.createElement(h.a,{container:!0,item:!0,xs:12},a,r.a.createElement(v.a,{className:E.a.Full}))},D=a(85),g=a(25),x=a.n(g),R=a(27),C=a.n(R),S=function(e){return e.policyKeys.map((function(t,a){return r.a.createElement(h.a,{item:!0,xs:12,md:2,className:C.a.DataRow,key:"input_".concat(e.passedIndex,"_").concat(a)},r.a.createElement("p",{className:C.a.Mobile},r.a.createElement("strong",null,t.replace("_"," "))),r.a.createElement("input",{type:"text",value:e.customer[t],onChange:function(a){return e.changer(a,t,e.passedIndex)}}))}))},k=function(e){return e.children},F=function(e){var t=null;return e.policies&&(t=e.policies.map((function(t,a){return r.a.createElement(k,{key:"id__".concat(a)},r.a.createElement(h.a,{container:!0,item:!0,xs:12,className:x.a.DataRows},r.a.createElement(S,{policyKeys:e.policyKeys,changer:e.changed,customer:t,passedIndex:a}),r.a.createElement(h.a,{item:!0,xs:12,md:2,className:x.a.DataRow},r.a.createElement(D.a,{variant:"contained",color:"secondary",size:"small",onClick:function(){return e.del(a)}},"Delete"))),r.a.createElement(v.a,{className:x.a.Full}))}))),r.a.createElement(h.a,{container:!0,item:!0,xs:12},t)},P=a(26),j=a.n(P),A=function(e){var t=Object.keys(e.newRecord).map((function(t,a){return r.a.createElement(h.a,{xs:12,md:2,item:!0,className:j.a.InputRow,key:"id_".concat(t,"_").concat(a)},r.a.createElement("input",{type:"text",onChange:function(a){return e.input(a,t)},value:e.newRecord[t]||""}))}));return r.a.createElement(h.a,{container:!0,item:!0,xs:12},t,r.a.createElement(h.a,{xs:12,md:2,item:!0,className:j.a.InputRow},r.a.createElement(D.a,{variant:"contained",color:"primary",size:"small",onClick:e.add,disabled:!e.formValid},"Add Policy")),r.a.createElement(v.a,{className:j.a.Full}))},O=a(89),N=a(90),H=a(86),B=a(36),I=a.n(B),V=function(e){var t=Object(b.a)("(min-width:960px)"),a=[{value:"more",label:"Premium \xa33000 or more"},{value:"less",label:"Premium less than \xa33000"},{value:"none",label:"No filter"}].map((function(e,a){return r.a.createElement(H.a,{style:t?{display:"inline-flex"}:{display:"block"},key:"".concat(e.value,"_").concat(a),value:e.value,control:r.a.createElement(O.a,{color:"primary"}),label:e.label})}));return r.a.createElement(h.a,{item:!0,xs:12,className:I.a.Spacer},r.a.createElement(N.a,{row:!0,style:{display:"block"},onChange:e.filterChange,value:e.radios},a))},M=a(37),T=a.n(M),U=function(){return r.a.createElement("footer",{className:T.a.Footer},r.a.createElement("span",null,"Created by Stuart Ferguson"))},J=a(38),K=a.n(J),z=function(e){return r.a.createElement(h.a,{item:!0,md:2,xs:12,className:K.a.ResetButton},r.a.createElement(D.a,{variant:"contained",color:"primary",size:"small",onClick:e.resetButton},"Reset"))},L=a(10),W=a(28),G=a.n(W),X=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={sortDirection:[null,null,null,null,null],policies:null,client:null,headers:null,newRecord:{customer_name:"",customer_address:"",premium:"",policy_type:"",insurer_name:""},formValid:!1,filterPolicies:null,radios:"none"},e.resetHandler=function(){e.setState({sortDirection:[null,null,null,null,null],policies:L.client.policies,client:L.client.name,headers:Object.keys(L.client.policies[0]),newRecord:{customer_name:"",customer_address:"",premium:"",policy_type:"",insurer_name:""},formValid:!1,filterPolicies:L.client.policies,radios:"none"}),window.location.href="/build"},e.handleFilterChange=function(t){var a,n=Object(c.a)(e.state.filterPolicies);switch(t.target.value){case"more":a=n.filter((function(e){return e.premium>=3e3}));break;case"less":a=n.filter((function(e){return e.premium<3e3}));break;default:a=e.state.filterPolicies}e.setState({policies:a,radios:t.target.value})},e.inputHandler=function(t,a){var n=Object(o.a)({},e.state.newRecord);n[a]=t.target.value,e.setState({newRecord:n}),e.setState((function(e){var t=e.newRecord,a=Object.keys(t);return{formValid:a.map((function(e){return t[e]})).filter((function(e){return e.length>0})).length===a.length}}))},e.addHandler=function(){e.setState((function(e){return{policies:e.filterPolicies}}));var t=[].concat(Object(c.a)(e.state.filterPolicies),[e.state.newRecord]);e.setState({newRecord:{customer_name:"",customer_address:"",premium:"",policy_type:"",insurer_name:""},formValid:!1,policies:t,filterPolicies:t,radios:"none"})},e.deleteHandler=function(t){e.setState((function(e){return{policies:e.filterPolicies}}));var a=Object(c.a)(e.state.filterPolicies);a.splice(t,1),e.setState({policies:a,filterPolicies:a,radios:"none"})},e.changeDataHandler=function(t,a,n){e.setState((function(e){return{policies:e.filterPolicies}}));var r=Object(c.a)(e.state.policies);r[n][a]=t.target.value,e.setState({policies:r,filterPolicies:r})},e.headerClickHandler=function(t){var a=Object(c.a)(e.state.policies),n=t.target.id,r=t.target.getAttribute("data-index");"premium"===n?a.sort((function(t,a){var i=Number(t[n]),l=Number(a[n]);return e.state.sortDirection[r]&&"DESC"!==e.state.sortDirection[r]?i>l?-1:i<l?1:0:i<l?-1:i>l?1:0})):"customer_address"===n?a.sort((function(t,a){var i=t[n].toUpperCase().split(" "),l=a[n].toUpperCase().split(" ");i.length>1&&i.shift(),l.length>1&&l.shift();var o=i.join(" "),c=l.join(" ");return e.state.sortDirection[r]&&"DESC"!==e.state.sortDirection[r]?o>c?-1:o<c?1:0:o<c?-1:o>c?1:0})):a.sort((function(t,a){var i=t[n].toUpperCase(),l=a[n].toUpperCase();return e.state.sortDirection[r]&&"DESC"!==e.state.sortDirection[r]?i>l?-1:i<l?1:0:i<l?-1:i>l?1:0}));var i="DESC";e.state.sortDirection[r]&&"DESC"!==e.state.sortDirection[r]||(i="ASC");var l=[null,null,null,null,null];l[r]=i,e.setState({policies:a,sortDirection:l})},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.setState({policies:L.client.policies,client:L.client.name,headers:Object.keys(L.client.policies[0]),filterPolicies:L.client.policies})}},{key:"render",value:function(){return r.a.createElement("div",{className:G.a.App},r.a.createElement(f.a,{maxWidth:"lg"},r.a.createElement(d.a,{elevation:3,className:G.a.Float},r.a.createElement(h.a,{container:!0,item:!0,xs:12,justify:"center"},r.a.createElement(h.a,{item:!0,xs:12},r.a.createElement(_.a,{variant:"h2"},this.state.client)),r.a.createElement(h.a,{item:!0,xs:10},r.a.createElement("p",null,"Online policy database. Columns can be sorted by clicking on the column headings.")),r.a.createElement(V,{filterChange:this.handleFilterChange,radios:this.state.radios}),r.a.createElement(w,{headers:this.state.headers,sortDirection:this.state.sortDirection,headerClick:this.headerClickHandler}),r.a.createElement(F,{policies:this.state.policies,del:this.deleteHandler,changed:this.changeDataHandler,policyKeys:Object.keys(this.state.newRecord)}),r.a.createElement(A,{newRecord:this.state.newRecord,formValid:this.state.formValid,add:this.addHandler,input:this.inputHandler}),r.a.createElement(z,{resetButton:this.resetHandler}),r.a.createElement(U,null)))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(X,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[47,1,2]]]);
//# sourceMappingURL=main.8892cb3d.chunk.js.map